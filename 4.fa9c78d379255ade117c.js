(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{ow3J:function(t,i,o){"use strict";o.r(i),o.d(i,"PageModule",function(){return j});var e=o("ofXK"),s=o("tyNb"),n=o("fXoL");let a=(()=>{class t{constructor(){this.playAmbientSound=new Audio,this.playAmbientStartVolume=.2,this.playAmbientVolume=this.playAmbientStartVolume,this.playObjectsSound=new Audio,this.playObjectsStartVolume=.1,this.playObjectsSoundVolume=this.playObjectsStartVolume,this.pausedAllSound=!1}getPlayAmbientSound(){this.playAmbientSound.src?this.playAmbientSound.play():(this.playAmbientSound.src="./assets/sounds/ambients/music-ambient.mp3",this.playAmbientSound.volume=this.playAmbientVolume)}getPlayObjectsSound(t){this.playObjectsSound.src=t,this.playObjectsSound.volume&&(this.playObjectsSound.volume=this.playObjectsSoundVolume),this.playObjectsSound.play()}getPouseAllSound(){return this.pausedAllSound?(this.playAmbientSound.volume=this.playAmbientStartVolume,this.playObjectsSound.volume=this.playObjectsStartVolume,this.pausedAllSound=!1):(this.playAmbientSound.volume=0,this.playObjectsSound.volume=0,this.pausedAllSound=!0)}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=n.Ab({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function r(t,i){if(1&t){const t=n.Ib();n.Hb(0,"img",2),n.Nb("click",function(){return n.Wb(t),n.Pb().toggleSound()}),n.Gb()}}function p(t,i){if(1&t){const t=n.Ib();n.Hb(0,"img",3),n.Nb("click",function(){return n.Wb(t),n.Pb().toggleSound()}),n.Gb()}}let c=(()=>{class t{constructor(t){this.soundMapService=t,this.soundType=this.soundMapService.pausedAllSound}ngOnInit(){}toggleSound(){this.soundType=this.soundMapService.getPouseAllSound()}}return t.\u0275fac=function(i){return new(i||t)(n.Eb(a))},t.\u0275cmp=n.yb({type:t,selectors:[["game-button-sound"]],decls:2,vars:2,consts:[["src","./assets/images/details/actions/sound/sound-switch-off.png",3,"click",4,"ngIf"],["src","./assets/images/details/actions/sound/sound-switch-on.png",3,"click",4,"ngIf"],["src","./assets/images/details/actions/sound/sound-switch-off.png",3,"click"],["src","./assets/images/details/actions/sound/sound-switch-on.png",3,"click"]],template:function(t,i){1&t&&(n.Zb(0,r,1,0,"img",0),n.Zb(1,p,1,0,"img",1)),2&t&&(n.Qb("ngIf",i.soundType),n.vb(1),n.Qb("ngIf",!i.soundType))},directives:[e.j],styles:["[_nghost-%COMP%]{z-index:1;position:fixed;display:block;right:10px;top:15px}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer;width:50px}"]}),t})();var l=o("HDdC");let u=(()=>{class t{constructor(){this.myHero={y:0,x:0,mapaId:1,avatar:""},this.captain="url('assets/images/heroes/captain.jpg')",this.gamePlayHero=this.myHero}selectHero(t){switch(t){case"captain":this.myHero.avatar=this.captain}return this.myHero}getGamePlayHero(){return new l.a(t=>{if(this.gamePlayHero)return t.next(this.gamePlayHero)})}setGamePlayHero(){return this.myHero}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=n.Ab({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const d=function(t,i,o){return{top:t,left:i,background:o}};let m=(()=>{class t{constructor(t){this.positionHeroService=t,this.positionHero=this.positionHeroService.selectHero("captain")}ngOnInit(){this.positionHeroService.getGamePlayHero().subscribe(t=>this.positionHero=t)}}return t.\u0275fac=function(i){return new(i||t)(n.Eb(u))},t.\u0275cmp=n.yb({type:t,selectors:[["game-hero"]],decls:1,vars:5,consts:[[1,"hero",3,"ngStyle"]],template:function(t,i){1&t&&n.Fb(0,"div",0),2&t&&n.Qb("ngStyle",n.Tb(1,d,i.positionHero.x+"px",i.positionHero.y+"px",i.positionHero.avatar))},directives:[e.k],styles:[".hero[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;border:5px solid #fff;background-repeat:no-repeat;position:absolute;box-shadow:0 10px 10px 0 rgba(0,0,0,.8);transition:1s ease-out;z-index:10}"]}),t})(),b=(()=>{class t{constructor(){this.initialPositionMap=0,this.initialPositionHeroMap={y:0,x:0}}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=n.Ab({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),h=(()=>{class t extends b{constructor(t){super(),this.positionHeroService=t,this.positionMap=[{id:1,y:0,x:this.initialPositionMap+0,width:564,height:564,disabled:!0,mapSelected:!0,background:"url(assets/images/maps/mapa-baixo.jpg)",positionTips:[{id:1,y:420,x:420,event:"Voc\xea \xe9 bix\xe3o mesmo quer saber mais sobre o assunto? Arrasta pra cima!"}],positionFromTo:[{id:1,from:{mapaId:1,y:100,x:510},to:{mapaId:2,y:85,x:70}}]},{id:2,y:0,x:this.initialPositionMap+564,width:564,height:564,disabled:!1,background:"url(assets/images/maps/mapa.jpg)",positionTips:[{id:5,y:320,x:320,event:"Aeeeeee Funfouuuu"}],positionFromTo:[{id:3,from:{mapaId:2,y:100,x:30},to:{mapaId:1,y:85,x:430}}]}],this.initialPositionHeroMap={y:100,x:100}}getPositionMap(){return this.positionHeroService.setGamePlayHero().y=this.initialPositionHeroMap.y,this.positionHeroService.setGamePlayHero().x=this.initialPositionHeroMap.x,this.positionMap}}return t.\u0275fac=function(i){return new(i||t)(n.Kb(u))},t.\u0275prov=n.Ab({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),g=(()=>{class t extends b{constructor(t){super(),this.positionHeroService=t,this.positionMap=[{id:1,y:0,x:this.initialPositionMap+0,width:564,height:564,mapSelected:!0,disabled:!0,background:"url(assets/images/maps/mapa.jpg)"}],this.initialPositionHeroMap={y:100,x:200}}getPositionMap(){return this.positionHeroService.setGamePlayHero().y=this.initialPositionHeroMap.y,this.positionHeroService.setGamePlayHero().x=this.initialPositionHeroMap.x,this.positionMap}}return t.\u0275fac=function(i){return new(i||t)(n.Kb(u))},t.\u0275prov=n.Ab({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),y=(()=>{class t{constructor(t,i){this.positionMapPhaseOneService=t,this.positionMapPhaseTwoService=i}switchMaps(t){return new l.a(i=>{switch(t){case"1":i.next(this.positionMapPhaseOneService.getPositionMap());break;case"2":i.next(this.positionMapPhaseTwoService.getPositionMap())}})}}return t.\u0275fac=function(i){return new(i||t)(n.Kb(h),n.Kb(g))},t.\u0275prov=n.Ab({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const f=function(t,i){return{top:t,left:i}};function S(t,i){if(1&t){const t=n.Ib();n.Hb(0,"article",5),n.Nb("click",function(){n.Wb(t);const o=i.$implicit;return n.Pb(3).moveHeroToMap(o.id)}),n.Fb(1,"img",6),n.Gb()}if(2&t){const t=i.$implicit;n.Qb("ngStyle",n.Sb(1,f,t.x+"px",t.y+"px"))}}function v(t,i){if(1&t){const t=n.Ib();n.Hb(0,"article",7),n.Nb("click",function(){n.Wb(t);const o=i.$implicit;return n.Pb(3).moveHeroFromToMap(o.to.mapaId)}),n.Fb(1,"img",8),n.Gb()}if(2&t){const t=i.$implicit;n.Qb("ngStyle",n.Sb(1,f,t.from.x+"px",t.from.y+"px"))}}const x=function(t,i,o,e,s){return{top:t,left:i,width:o,height:e,background:s}},M=function(t){return{"desactive-mapa":t}};function H(t,i){if(1&t&&(n.Hb(0,"section",2),n.Zb(1,S,2,4,"article",3),n.Zb(2,v,2,4,"article",4),n.Gb()),2&t){const t=n.Pb().$implicit;n.Qb("ngStyle",n.Ub(4,x,t.x+"px",t.y+"px",t.width+"px",t.height+"px",t.background))("ngClass",n.Rb(10,M,!t.mapSelected)),n.vb(1),n.Qb("ngForOf",t.positionTips),n.vb(1),n.Qb("ngForOf",t.positionFromTo)}}function P(t,i){1&t&&n.Zb(0,H,3,12,"section",1),2&t&&n.Qb("ngIf",i.$implicit.disabled)}let w=(()=>{class t{constructor(t,i,o,e){this.routerMapsService=t,this.positionHeroService=i,this.activatedRoute=o,this.soundMapService=e,this.positionHero=this.positionHeroService.selectHero(),this.stageMap="1",this.positionMap=[]}ngOnInit(){this.activatedRoute.params.subscribe(t=>{t.id&&(this.stageMap=t.id)},t=>console.log(t)),this.positionHeroService.getGamePlayHero().subscribe(t=>{this.positionHero=t}),this.routerMapsService.switchMaps(this.stageMap).subscribe(t=>{this.positionMap=t})}ngDoCheck(){this.soundMapService.getPlayAmbientSound()}moveHeroToMap(t){let i=this.positionMap.find(t=>this.positionHero.mapaId===t.id);if(null==i?void 0:i.positionTips){let o=i.positionTips.find(i=>i.id===t);o&&(this.positionHero.x=i.x+o.x-45,this.positionHero.y=i.y+o.y-45,setTimeout(()=>{this.soundMapService.getPlayObjectsSound("./assets/sounds/check.mp3")},1e3))}}moveHeroFromToMap(t){let i=this.positionMap.find(t=>this.positionHero.mapaId===t.id);if(null==i?void 0:i.positionFromTo){let o=i.positionFromTo.find(i=>i.to.mapaId===t);if(o){this.positionHero.x=o.from.x+i.x-45,this.positionHero.y=o.from.y+i.y-45,this.positionHero.mapaId=o.to.mapaId;let e=this.positionMap.find(t=>(null==o?void 0:o.to.mapaId)==t.id);(null==e?void 0:e.id)==t&&(e.disabled=!0),this.soundMapService.getPlayObjectsSound("./assets/sounds/open-door.mp3"),setTimeout(()=>{this.positionMap.map(t=>t.mapSelected=(null==e?void 0:e.id)==t.id),e&&o&&(this.positionHero.x=e.x+o.to.x,this.positionHero.y=e.y+o.to.y)},2e3)}}}}return t.\u0275fac=function(i){return new(i||t)(n.Eb(y),n.Eb(u),n.Eb(s.a),n.Eb(a))},t.\u0275cmp=n.yb({type:t,selectors:[["game-map"]],decls:1,vars:1,consts:[["ngFor","","async","",3,"ngForOf"],["class","mapa",3,"ngStyle","ngClass",4,"ngIf"],[1,"mapa",3,"ngStyle","ngClass"],["class","tips-mapa",3,"ngStyle","click",4,"ngFor","ngForOf"],["class","next-mapa",3,"ngStyle","click",4,"ngFor","ngForOf"],[1,"tips-mapa",3,"ngStyle","click"],["src","./assets/images/details/actions/btn/btn-tips.png","alt","Detalhes no Mapa"],[1,"next-mapa",3,"ngStyle","click"],["src","./assets/images/details/actions/btn/btn-next-map.png","alt","Pr\xf3ximo Mapa"]],template:function(t,i){1&t&&n.Zb(0,P,1,1,"ng-template",0),2&t&&n.Qb("ngForOf",i.positionMap)},directives:[e.i,e.j,e.k,e.h],styles:[".mapa[_ngcontent-%COMP%]{transition:1s ease-out}.mapa[_ngcontent-%COMP%], .mapa[_ngcontent-%COMP%]   .next-mapa[_ngcontent-%COMP%], .mapa[_ngcontent-%COMP%]   .tips-mapa[_ngcontent-%COMP%]{position:absolute;box-shadow:0 10px 10px 0 rgba(0,0,0,.8)}.mapa[_ngcontent-%COMP%]   .next-mapa[_ngcontent-%COMP%], .mapa[_ngcontent-%COMP%]   .tips-mapa[_ngcontent-%COMP%]{width:20px;height:20px;display:flex;align-items:center;justify-content:center;z-index:9999;cursor:pointer}.mapa.desactive-mapa[_ngcontent-%COMP%]{filter:blur(5px);opacity:.3}"]}),t})(),O=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=n.yb({type:t,selectors:[["app-game-play"]],decls:3,vars:0,template:function(t,i){1&t&&(n.Fb(0,"game-button-sound"),n.Fb(1,"game-hero"),n.Fb(2,"game-map"))},directives:[c,m,w],styles:["[_nghost-%COMP%]{position:relative;display:block;height:100%;width:100%}  body{background:url(background-maps.816aec491a49b92c293b.png)!important;background-size:cover!important}"]}),t})();const k=[{path:"",component:O},{path:":id",component:O}];let I=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=n.Cb({type:t}),t.\u0275inj=n.Bb({imports:[[s.b.forChild(k)],s.b]}),t})(),A=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=n.Cb({type:t}),t.\u0275inj=n.Bb({imports:[[e.b]]}),t})(),j=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=n.Cb({type:t}),t.\u0275inj=n.Bb({imports:[[e.b,I,A]]}),t})()}}]);